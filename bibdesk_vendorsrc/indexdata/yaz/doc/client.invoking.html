<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>2. Invoking the YAZ client</title><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="YAZ User's Guide and Reference"><link rel="up" href="client.html" title="Chapter 5. The YAZ client"><link rel="prev" href="client.html" title="Chapter 5. The YAZ client"><link rel="next" href="client.commands.html" title="3. Commands"></head><body><link rel="stylesheet" type="text/css" href="common/style1.css"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Invoking the YAZ client</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="client.html">Prev</a> </td><th width="60%" align="center">Chapter 5. The YAZ client</th><td width="20%" align="right"> <a accesskey="n" href="client.commands.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="client.invoking"></a>2. Invoking the YAZ client</h2></div></div></div><p>
    It can be started by typing
   </p><div class="cmdsynopsis"><p><code class="command">yaz-client</code>  [-m <em class="replaceable"><code>fname</code></em>] [-a <em class="replaceable"><code>fname</code></em>] [-c <em class="replaceable"><code>fname</code></em>] [-q <em class="replaceable"><code>fname</code></em>] [-v <em class="replaceable"><code>level</code></em>] [-p <em class="replaceable"><code>target</code></em>] [-u <em class="replaceable"><code>auth</code></em>] [-k <em class="replaceable"><code>size</code></em>] [zurl]</p></div><p>
    in a UNIX shell / WIN32 console. The <em class="replaceable"><code>zurl</code></em>,
    specifies a Z39.50/SRU host and, if specified, the client first tries to
    establish connection with the Z39.50/SRU target.
   </p><p>
    Options are prefixed by <code class="literal">-</code> followed by a
    particular letter.
    </p><p>
    The following options are supported:
   </p><div class="variablelist"><dl><dt><span class="term">
      <code class="literal">-m</code> <em class="replaceable"><code>fname</code></em>
     </span></dt><dd>All retrieved transfer records are appended to file
       <em class="replaceable"><code>fname</code></em>. All records as returned by a
       target(s) in Search Responses and Present Responses are appended
       verbatim to the file.
      </dd><dt><span class="term">
      <code class="literal">-a</code> <em class="replaceable"><code>fname</code></em>
     </span></dt><dd>Pretty-print log of APDUs sent and received is appended
       to the file <em class="replaceable"><code>fname</code></em>.
       If <em class="replaceable"><code>fname</code></em> is <code class="literal">-</code> (minus)
       the APDU log is written to <code class="literal">stderr</code>.
      </dd><dt><span class="term">
      <code class="literal">-c</code> <em class="replaceable"><code>fname</code></em>
     </span></dt><dd>Sets the filename for CCL fields to
       <em class="replaceable"><code>fname</code></em>. If this option is not given the
       YAZ client reads CCL fields from file <code class="literal">default.bib</code>.
      </dd><dt><span class="term">
      <code class="literal">-q</code> <em class="replaceable"><code>fname</code></em>
     </span></dt><dd>Sets the filename for CQL fields to
       <em class="replaceable"><code>fname</code></em>. If this option is not given the
       YAZ client reads CQL fields from file
       <code class="literal">/usr/local/share/yaz/etc/pqf.properties</code>.
      </dd><dt><span class="term">
      <code class="literal">-v</code> <em class="replaceable"><code>level</code></em>
     </span></dt><dd>Sets the LOG level to <em class="replaceable"><code>level</code></em>.
       Level is a sequence of tokens separated by comma. Each token
       is a integer or a named LOG item - one of 
       <code class="literal">fatal</code>,
       <code class="literal">debug</code>,
       <code class="literal">warn</code>,
       <code class="literal">log</code>,
       <code class="literal">malloc</code>,
       <code class="literal">all</code>,
       <code class="literal">none</code>.
      </dd><dt><span class="term">
      <code class="literal">-p</code> <em class="replaceable"><code>target</code></em>
     </span></dt><dd>Specifies proxy address. When set YAZ client will
       connect to a proxy on the address and port given. 
       The actual target will be specified as part of the InitRequest
       to inform the proxy about actual target.
      </dd><dt><span class="term">
      <code class="literal">-u</code> <em class="replaceable"><code>auth</code></em>
     </span></dt><dd>Specifies authentication. Usually the form
       <em class="replaceable"><code>user</code></em>/<em class="replaceable"><code>password</code></em>
       is used. This option does the same thing as the
       <code class="literal">auth</code> command.
      </dd><dt><span class="term">
      <code class="literal">-k</code> <em class="replaceable"><code>size</code></em>
     </span></dt><dd>Specifies the maximum messages size in kilobytes.
       The default maximum message size for the YAZ client is 1024
       (1 MB).
      </dd></dl></div><p>
    In order to connect to Index Data's test Z39.50 server on
    <code class="literal">bagel.indexdata.dk</code>, port 210 and with the
    database name <code class="literal">marc</code>, one could type
    </p><pre class="screen">
     yaz-client bagel.indexdata.dk:210/marc
    </pre><p>
   </p><p>
    The same server is also a SRU service. Connect to it via HTTP
    as follows:
    </p><pre class="screen">
     yaz-client http://bagel.indexdata.dk:210/marc
    </pre><p>
   </p><p>
    In order to enable APDU log and connect to localhost, port 210 (default)
    and database Default (default) you'd write:
    </p><pre class="screen">
     yaz-client -a - localhost
    </pre><p>
   </p><p>
    The following command connects to a local server via UNIX
    socket <code class="filename">/tmp/yaz</code> and sets maximum message size to
    5 MB.
   </p><pre class="screen">
    yaz-client -k 5120 unix:/tmp/yaz
   </pre><p> 
   </p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="client.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="client.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="client.commands.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 5. The YAZ client </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Commands</td></tr></table></div></body></html>
