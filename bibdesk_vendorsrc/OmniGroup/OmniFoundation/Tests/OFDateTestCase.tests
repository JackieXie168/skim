{
    testRoundingToHHMM = (

        /* Rounding to a nearby minute */
        ( "2001-03-24 16:45:12 +0600", 16, 45, "2001-03-24 16:45:00 +0600"),
        ( "2001-03-24 16:44:12 +0100", 16, 45, "2001-03-24 16:45:00 +0100"),
        ( "2001-03-24 16:44:48 -0900", 16, 45, "2001-03-24 16:45:00 -0900"),
        ( "2001-03-24 16:45:48 +0000", 16, 45, "2001-03-24 16:45:00 +0000"),
        
        /* Rounding to a nearby hour */
        ( "2001-03-24 16:45:48 +0900", 16, 0, "2001-03-24 16:00:00 +0900"),
        ( "2001-03-24 16:00:01 +0900", 16, 0, "2001-03-24 16:00:00 +0900"),
        ( "2001-03-24 15:59:59 +0900", 16, 0, "2001-03-24 16:00:00 +0900"),
        ( "2001-03-24 15:00:00 +0900", 16, 0, "2001-03-24 16:00:00 +0900"),

        /* Rounding across (or near) a day boundary */
        ( "2001-03-24 16:45:12 +0900", 0, 0, "2001-03-25 00:00:00 +0900"),
        ( "2001-03-24 12:00:01 +0900", 0, 0, "2001-03-25 00:00:00 +0900"),
        ( "2001-03-24 12:00:00 +0900", 0, 0, "2001-03-24 00:00:00 +0900"),
        ( "2001-03-24 08:45:32 +0900", 0, 0, "2001-03-24 00:00:00 +0900"),
        ( "2001-03-24 23:59:59 +0900", 0, 0, "2001-03-25 00:00:00 +0900"),
        ( "2001-03-25 00:00:01 +0900", 0, 0, "2001-03-25 00:00:00 +0900"),
        ( "2001-03-24 00:00:00 +0900", 0, 0, "2001-03-24 00:00:00 +0900"),
        
        /* Rounding almost exactly +- 12 hours */
        ( "2001-03-24 20:15:01 +0900",  8, 15, "2001-03-25 08:15:00 +0900"),
        ( "2001-03-24 20:15:00 +0900",  8, 15, "2001-03-24 08:15:00 +0900"),
        ( "2001-03-24 20:14:59 +0900",  8, 15, "2001-03-24 08:15:00 +0900"),
        ( "2001-03-24 20:12:00 +0900",  8, 15, "2001-03-24 08:15:00 +0900"),
        ( "2001-03-25 08:12:01 +0900", 20, 12, "2001-03-25 20:12:00 +0900"),
        ( "2001-03-24 08:12:00 +0900", 20, 12, "2001-03-23 20:12:00 +0900"),
        ( "2001-03-24 08:11:59 +0900", 20, 12, "2001-03-23 20:12:00 +0900"),
        ( "2001-03-24 08:08:08 +0900", 20, 12, "2001-03-23 20:12:00 +0900"),
        
        /* Rounding across DST boundaries */
        /* Spring forward */
        ( "1998-04-04 22:12:00 US/Pacific",  7, 15, "1998-04-05 07:15:00 US/Pacific"),
        ( "1998-04-05 07:15:00 US/Pacific", 22, 12, "1998-04-04 22:12:00 US/Pacific"),
        ( "1998-04-03 22:12:00 US/Pacific",  7, 15, "1998-04-04 07:15:00 US/Pacific"),
        ( "1998-04-02 22:12:00 US/Pacific",  7, 15, "1998-04-03 07:15:00 US/Pacific"),
        ( "1998-04-01 22:12:00 US/Pacific",  7, 15, "1998-04-02 07:15:00 US/Pacific"),
        ( "1998-04-05 22:12:00 US/Pacific",  7, 15, "1998-04-06 07:15:00 US/Pacific"),
        ( "1998-04-06 22:12:00 US/Pacific",  7, 15, "1998-04-07 07:15:00 US/Pacific"),
        ( "1998-04-07 22:12:00 US/Pacific",  7, 15, "1998-04-08 07:15:00 US/Pacific"),
        /* Fall back */
        ( "1999-10-30 22:12:00 US/Pacific",  7, 15, "1999-10-31 07:15:00 US/Pacific"),
        ( "1999-10-31 22:12:00 US/Pacific",  7, 15, "1999-11-01 07:15:00 US/Pacific"),
        ( "1999-11-01 22:12:00 US/Pacific",  7, 15, "1999-11-02 07:15:00 US/Pacific"),
        ( "1999-10-31 07:15:00 US/Pacific", 22, 12, "1999-10-30 22:12:00 US/Pacific"),
        ( "1999-11-01 07:15:00 US/Pacific", 22, 12, "1999-10-31 22:12:00 US/Pacific"),
        ( "1999-11-02 07:15:00 US/Pacific", 22, 12, "1999-11-01 22:12:00 US/Pacific")
    );
    
    testRoundingToDOW = (
        ( "2002-11-26 08:12:16 +0000", 2, "2002-11-26 08:12:16 +0000"),
        ( "2002-11-27 08:12:16 +0000", 2, "2002-11-26 08:12:16 +0000"),
        ( "2002-11-28 08:12:16 +0000", 2, "2002-11-26 08:12:16 +0000"),
        ( "2002-11-29 08:12:16 +0000", 2, "2002-11-26 08:12:16 +0000"),
        ( "2002-11-30 08:12:16 +0000", 2, "2002-12-03 08:12:16 +0000"),
        ( "2002-12-01 08:12:16 +0000", 2, "2002-12-03 08:12:16 +0000"),
        ( "2002-12-02 08:12:16 +0000", 2, "2002-12-03 08:12:16 +0000"),
        ( "2002-12-03 08:12:16 +0000", 2, "2002-12-03 08:12:16 +0000"),
        
        ( "1999-12-31 08:12:16 +0000", 0, "2000-01-02 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 1, "2000-01-03 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 2, "1999-12-28 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 3, "1999-12-29 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 4, "1999-12-30 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 5, "1999-12-31 08:12:16 +0000"),
        ( "1999-12-31 08:12:16 +0000", 6, "2000-01-01 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 0, "2000-01-02 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 1, "2000-01-03 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 2, "2000-01-04 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 3, "1999-12-29 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 4, "1999-12-30 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 5, "1999-12-31 08:12:16 +0000"),
        ( "2000-01-01 08:12:16 +0000", 6, "2000-01-01 08:12:16 +0000")
    );
}

